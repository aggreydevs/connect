[global]
server_name = "soundadvice.club"
database_path = "/var/lib/tuwunel"
address = ["0.0.0.0"]
port = 8008
allow_registration = false
allow_encryption = true
grant_admin_to_first_user = true
new_user_displayname_suffix = ""
max_request_size = 20971520  # 20MB
# Prevents users from creating rooms (admins can always create rooms)
allow_room_creation = false
block_non_admin_invites = true
# No federation
allow_federation = false
allow_public_room_directory_over_federation = false
allow_inbound_profile_lookup_federation_requests = false
auto_join_rooms = [
    "#announcements:soundadvice.club",
    "#events:soundadvice.club",
    "#general:soundadvice.club",
]
access_control_allow_origin = [
    "https://connect.soundadvice.club",
    "https://app.soundadvice.club"
]

[global.well_known]
client = "https://matrix.soundadvice.club"
server = "matrix.soundadvice.club:443"

[[global.identity_provider]]
brand = "SoundAdvice"
client_id = "c4d8fb4f-94db-426c-8fb8-6c5225c513ca"
client_secret_file = "/etc/tuwunel/.client_secret"
issuer_url = "https://xotpctnbcmgkwmiplesn.supabase.co/auth/v1"
discovery_url = "https://xotpctnbcmgkwmiplesn.supabase.co/auth/v1/.well-known/openid-configuration"
callback_url = "https://matrix.soundadvice.club/_matrix/client/unstable/login/sso/callback/c4d8fb4f-94db-426c-8fb8-6c5225c513ca"
discovery = true
scope = ["openid", "email", "profile"]
default = true
grant_session_duration = 600
